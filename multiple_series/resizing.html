<!DOCTYPE html>
<!-- This moment onwards we change all chart examples to auto resize the
		  window -->

<head>
	<meta charset="utf-8">
	<title>Dynamically Resizing Chart</title>
	<script src="../lib/d3.min.js"></script>
	<link rel="stylesheet" href="../styles/style.css">
</head>

<body>
	<div class="chart-container">
		<div class="svg-container"></div>
	</div>
	
  <script>
		/*
		var chartDiv = d3.select("div#chart");
		var svg = chartDiv.append("div")
			.classed("svg-container", true)
			.append("svg")
			.attr("preserveAspectRatio", "xMinYMin meet")
			.attr("viewBox", "0 0 600 400")
			.classed("svg-content-responsive", true);

		var chartDiv = document.getElementById("chart");
		chartDiv.classList.add("chart");
		var svg = d3.select(chartDiv).append("svg");
		*/

	// Draw for the first time
	redraw();
	
	// Add event listener to redraw every time window is resized
	window.addEventListener("resize", redraw);

		function redraw() {
					
			var container = d3.select('.chart-container');
			var drawWidth = container.node().clientWidth;
			var drawHeight = container.node().clientHeight;
			
			// set the dimensions and margins of the graph
			var margin = {top: 20, right: 40, bottom: 100, left: 20};
			var width = drawWidth - margin.left - margin.right;
			var height = drawHeight - margin.top - margin.bottom;
			
			var svg = container.select(".svg-container").selectAll('svg').data([0]);
					 
			svg.enter()
					.append("svg")
					.append("g")
						.attr("class", "canvas")
						.attr("transform","translate(" + margin.left + "," + margin.top + ")");
					
			svg.attr("width", drawWidth)
				.attr("height", drawHeight);

    // Add some random SVG element
    svg.selectAll('rect')
            .data([0]) // Single data element to create SVG if it doesn't exist
        .enter().append('rect')
            .attr({
                x: 0,
                y: 0,
                width: drawWidth - margin.right - margin.left,
                height: drawHeight - margin.bottom - margin.top
            });

	}
	
	</script>
</body>
</html>

	
